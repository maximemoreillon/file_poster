(function(e){function t(t){for(var a,n,i=t[0],o=t[1],u=t[2],c=0,p=[];c<i.length;c++)n=i[c],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&p.push(r[n][0]),r[n]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);d&&d(t);while(p.length)p.shift()();return l.push.apply(l,u||[]),s()}function s(){for(var e,t=0;t<l.length;t++){for(var s=l[t],a=!0,i=1;i<s.length;i++){var o=s[i];0!==r[o]&&(a=!1)}a&&(l.splice(t--,1),e=n(n.s=s[0]))}return e}var a={},r={app:0},l=[];function n(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=a,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var d=o;l.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},1006:function(e,t,s){},"14ee":function(e,t,s){},"3b7f":function(e,t,s){e.exports=s.p+"img/moreillon_logo.eb932683.png"},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),r=s("7496"),l=s("8336"),n=s("b0af"),i=s("99d9"),o=s("62ad"),u=s("ce7e"),d=s("553a"),c=s("4bd4"),p=s("132d"),f=s("adda"),_=s("f6c4"),h=s("8e36"),v=s("0fd9"),b=s("2db4"),m=s("2fa4"),y=s("71a3"),g=s("c671"),q=s("fe57"),k=s("aac8"),x=s("9a96"),O=s("8654"),S=s("71d9"),R=s("2a7f"),P=function(){var e=this,t=e._self._c;return t(r["a"],[t(_["a"],{staticClass:"grey lighten-4"},[t(n["a"],{staticClass:"mx-auto my-5",attrs:{"max-width":"800px"}},[t(S["a"],{attrs:{dark:"",color:"#444444"}},[t(f["a"],{staticClass:"mr-2 rotating_logo",attrs:{src:s("3b7f"),"max-height":"2.5em","max-width":"2.5em"}}),t(R["a"],[e._v("File POSTer")]),t(m["a"]),t("About")],1),t(i["b"],[t(c["a"],{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.post_file()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(n["a"],{attrs:{outlined:""}},[t(S["a"],{attrs:{flat:""}},[t(R["a"],[e._v("URL")]),t(m["a"]),e.url_editable?t("RequestHistoryDialog",{attrs:{cols:"auto",history:e.request_history},on:{loadRequest:function(t){e.request=t}}}):e._e()],1),t(i["b"],[t(O["a"],{attrs:{rules:e.url_rules,disabled:!e.url_editable},model:{value:e.request.url,callback:function(t){e.$set(e.request,"url",t)},expression:"request.url"}})],1)],1),t(n["a"],{staticClass:"my-4",attrs:{outlined:""}},[t(S["a"],{attrs:{flat:"",dense:""}},[t(q["a"],{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(x["a"]),e._l(e.tabs,(function(s){return t(y["a"],{key:s},[e._v(e._s(s))])}))],2)],1),t(u["a"]),t(i["b"],[t(k["a"],{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(g["a"],{attrs:{eager:""}},[t("RequestFiles",{attrs:{editable:e.files_editable},model:{value:e.request.files,callback:function(t){e.$set(e.request,"files",t)},expression:"request.files"}})],1),e.tabs.includes("FIELDS")?t(g["a"],{attrs:{eager:""}},[t("RequestFields",{attrs:{editable:e.fields_editable},model:{value:e.request.fields,callback:function(t){e.$set(e.request,"fields",t)},expression:"request.fields"}})],1):e._e(),e.tabs.includes("HEADERS")?t(g["a"],{attrs:{eager:""}},[t("RequestHeaders",{attrs:{editable:e.headers_editable},model:{value:e.request.headers,callback:function(t){e.$set(e.request,"headers",t)},expression:"request.headers"}})],1):e._e()],1)],1)],1),t(v["a"],{staticClass:"my-4"},[t(m["a"]),t(o["a"],{attrs:{cols:"auto"}},[t(l["a"],{attrs:{color:"primary",large:"",type:"submit",loading:e.posting,disabled:!e.valid}},[t(p["a"],[e._v("mdi-upload")]),t("span",[e._v("POST")])],1)],1),t(o["a"],{attrs:{cols:"auto"}},[t(l["a"],{attrs:{large:"",disabled:!e.posting},on:{click:function(t){return e.cancel_upload()}}},[t(p["a"],[e._v("mdi-close")]),t("span",[e._v("cancel")])],1)],1),t(m["a"])],1),e.posting?t(h["a"],{attrs:{height:"25",value:this.uploadProgress,rounded:""}},[e._v(" "+e._s(this.uploadProgress)+"% ")]):e._e(),e.response?t("Response",{attrs:{response:e.response,processing:e.posting}}):e._e()],1)],1)],1)],1),t(b["a"],{attrs:{color:e.snackbar.color},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t(l["a"],e._b({attrs:{dark:"",text:""},on:{click:function(t){e.snackbar.open=!1}}},"v-btn",s,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar.open,callback:function(t){e.$set(e.snackbar,"open",t)},expression:"snackbar.open"}},[e._v(" "+e._s(e.snackbar.text)+" ")]),t(d["a"],[t(o["a"],{staticClass:"text-center",attrs:{cols:"12"}},[e._v(" File POSTer - Maxime MOREILLON ")])],1)],1)},E=[],A=(s("33d1"),s("14d9"),s("13d5"),s("ea98"),s("88a7"),s("271a"),s("5494"),s("169a")),w=function(){var e=this,t=e._self._c;return t(A["a"],{attrs:{"max-width":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(l["a"],e._g(e._b({attrs:{text:"",dark:""}},"v-btn",a,!1),s),[t(p["a"],{attrs:{left:""}},[e._v("mdi-information-outline")]),t("span",[e._v("About")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(n["a"],[t(i["c"],[e._v(" File POSTer ")]),t(i["b"],[e._v(" version: "+e._s(e.version)+" ")]),t(i["b"],[e._v(" Developed and mantainted by Maxime MOREILLON and Osuke SHITO ")]),t(i["a"],[t(m["a"]),t(l["a"],{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Close ")])],1)],1)],1)},F=[],j=s("9224"),C={name:"About",data:()=>({dialog:!1,version:j["a"]})},L=C,$=s("2877"),N=Object($["a"])(L,w,F,!1,null,null,null),T=N.exports,D=function(){var e=this,t=e._self._c;return t(n["a"],{attrs:{height:"100%",outlined:""}},[t(S["a"],{attrs:{flat:""}},[t(v["a"],[t(o["a"],[t(R["a"],[e._v("Response")])],1)],1)],1),e.processing||e.response?!e.processing&&e.response&&e.response.headers?t(i["b"],[t(v["a"],[t(o["a"],{attrs:{cols:"4"}},[t("h3",[e._v("Status")])]),t(o["a"],{class:{error_message:e.response_is_error,success_message:!0},attrs:{cols:"auto"}},[e._v(" "+e._s(e.response.status)+" "+e._s(e.response.statusText)+" ")])],1),t(v["a"],[t(o["a"],{attrs:{cols:"4"}},[t("h3",[e._v("Content-type")])]),t(o["a"],{attrs:{cols:"auto"}},[e._v(" "+e._s(e.response.headers["content-type"])+" ")])],1),t(v["a"],[t(o["a"],[t("h3",[e._v("Body")])])],1),t(v["a"],[e.content_type.includes("text/html")?t(o["a"],{staticClass:"response_body",domProps:{innerHTML:e._s(e.response.data)}}):e.content_type.includes("application/json")?t(o["a"],{staticClass:"response_body"},[t("pre",[e._v(e._s(e.response_pretty))])]):t(o["a"],{staticClass:"response_body"},[e._v(" "+e._s(e.response.data)+" ")])],1)],1):e._e():t(i["b"],[e._v(" No response yet ")]),e.response&&!e.response.headers?t(i["b"],[e._v(" Request failed, see console for details ")]):e._e()],1)},H=[],M={name:"Response",props:{processing:Boolean,response:null},computed:{response_pretty(){try{return JSON.stringify(JSON.parse(this.response.data),null,2)}catch(e){return this.response.data}},content_type(){if(this.response&&this.response.headers)return this.response.headers["content-type"]},response_is_error(){const e=this.response.status.toString().charAt(0);return"2"!==e&&"3"!==e}}},J=M,U=(s("c912"),Object($["a"])(J,D,H,!1,null,"59c69212",null)),I=U.exports,V=s("8860"),B=s("da13"),K=function(){var e=this,t=e._self._c;return t(A["a"],{attrs:{width:"40rem"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(l["a"],e._g(e._b({},"v-btn",a,!1),s),[t(p["a"],{attrs:{left:""}},[e._v("mdi-history")]),e._v(" History ")],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(n["a"],[t(i["c"],[e._v(" Request history ")]),t(i["b"],[t(V["a"],e._l(e.history_reversed,(function(s,a){return t(B["a"],{key:a,on:{click:function(t){e.$emit("loadRequest",s),e.dialog=!1}}},[e._v(" "+e._s(s.url)+" ")])})),1)],1),t(i["a"],[t(m["a"]),t(l["a"],{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v("close")])],1)],1)],1)},z=[],G={name:"RequestHistory",props:{history:Array},data(){return{dialog:!1}},computed:{history_reversed(){return this.history.slice().reverse()}}},Q=G,W=Object($["a"])(Q,K,z,!1,null,"05b0e637",null),X=W.exports,Y=s("23a7"),Z=function(){var e=this,t=e._self._c;return t("div",[t(v["a"],[t(o["a"],{attrs:{cols:"auto"}},[e.editable?t(l["a"],{attrs:{small:""},on:{click:function(t){return e.add_file()}}},[t(p["a"],{attrs:{left:""}},[e._v("mdi-plus")]),t("span",[e._v("Add file")])],1):e._e()],1)],1),t("div",e._l(e.files,(function(s,a){return t(v["a"],{key:"file_item_"+a,attrs:{align:"center"}},[t(o["a"],[t(Y["a"],{attrs:{label:"file",rules:e.file_rules,required:""},model:{value:s.file,callback:function(t){e.$set(s,"file",t)},expression:"item.file"}})],1),t(o["a"],{attrs:{cols:"auto"}},[e._v(":")]),t(o["a"],[t(O["a"],{attrs:{label:"Field name",disabled:!e.editable,rules:e.field_name_rules,required:""},model:{value:s.field_name,callback:function(t){e.$set(s,"field_name",t)},expression:"item.field_name"}})],1),t(o["a"],{attrs:{cols:"auto"}},[e.editable?t(l["a"],{attrs:{icon:"",disabled:1===e.files.length},on:{click:function(t){return e.delete_file(a)}}},[t(p["a"],[e._v("mdi-delete")])],1):e._e()],1)],1)})),1)],1)},ee=[],te={name:"RequestFilesManagement",props:{value:Array,editable:Boolean},data(){return{file_rules:[e=>!!e||"File is required"],field_name_rules:[e=>!!e||"Field name is required"]}},methods:{add_file(){this.files.push({file:null,field_name:"image"})},delete_file(e){this.files.splice(e,1)}},computed:{files:{get(){return this.value},set(e){console.log(e),this.$emit("input",e)}}}},se=te,ae=(s("7065"),Object($["a"])(se,Z,ee,!1,null,"01c96b3c",null)),re=ae.exports,le=function(){var e=this,t=e._self._c;return t("div",[t(v["a"],[t(o["a"],{attrs:{cols:"auto"}},[e.editable?t(l["a"],{attrs:{small:""},on:{click:function(t){return e.add_header()}}},[t(p["a"],{attrs:{left:""}},[e._v("mdi-plus")]),t("span",[e._v("Add header")])],1):e._e()],1)],1),e.headers.length?t("div",e._l(e.headers,(function(s,a){return t(v["a"],{key:"header_item_"+a,attrs:{align:"center"}},[t(o["a"],[t(O["a"],{attrs:{placeholder:"Key",disabled:!e.editable,rules:e.key_rules,required:""},model:{value:s.key,callback:function(t){e.$set(s,"key",t)},expression:"item.key"}})],1),t(o["a"],{attrs:{cols:"auto"}},[e._v(":")]),t(o["a"],[t(O["a"],{attrs:{placeholder:"Value",disabled:s.readOnly,rules:e.value_rules,required:""},model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"item.value"}})],1),t(o["a"],{attrs:{cols:"auto"}},[e.editable?t(l["a"],{attrs:{icon:""},on:{click:function(t){return e.delete_header(a)}}},[t(p["a"],[e._v("mdi-delete")])],1):e._e()],1)],1)})),1):t("div",[t(v["a"],[t(o["a"],{attrs:{cols:"auto"}},[e._v(" No headers ")])],1)],1)],1)},ne=[],ie={name:"RequestHeadersManagement",props:{value:Array,editable:Boolean},data(){return{key_rules:[e=>!!e||"Key is required"],value_rules:[e=>!!e||"Value is required"]}},methods:{add_header(){this.headers.push({key:"",value:""})},delete_header(e){this.headers.splice(e,1)}},computed:{headers:{get(){return this.value},set(e){console.log(e),this.$emit("input",e)}}}},oe=ie,ue=(s("e5ef"),Object($["a"])(oe,le,ne,!1,null,"589c2083",null)),de=ue.exports,ce=function(){var e=this,t=e._self._c;return t("div",[t(v["a"],[t(o["a"],{attrs:{cols:"auto"}},[e.editable?t(l["a"],{attrs:{small:""},on:{click:function(t){return e.add_field()}}},[t(p["a"],{attrs:{left:""}},[e._v("mdi-plus")]),t("span",[e._v("Add field")])],1):e._e()],1)],1),e.fields.length?t("div",e._l(e.fields,(function(s,a){return t(v["a"],{key:"field_item_"+a,attrs:{align:"center"}},[t(o["a"],[t(O["a"],{attrs:{placeholder:"Key",disabled:!e.editable,rules:e.key_rules,required:""},model:{value:s.name,callback:function(t){e.$set(s,"name",t)},expression:"item.name"}})],1),t(o["a"],{attrs:{cols:"auto"}},[e._v(":")]),t(o["a"],[t(O["a"],{attrs:{placeholder:"Value",disabled:s.readOnly,rules:e.value_rules,required:""},model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"item.value"}})],1),t(o["a"],{attrs:{cols:"auto"}},[e.editable?t(l["a"],{attrs:{icon:""},on:{click:function(t){return e.delete_field(a)}}},[t(p["a"],[e._v("mdi-delete")])],1):e._e()],1)],1)})),1):t("div",[t(v["a"],[t(o["a"],{attrs:{cols:"auto"}},[e._v(" No fields ")])],1)],1)],1)},pe=[],fe={name:"RequestHeadersManagement",props:{value:Array,editable:Boolean},data(){return{key_rules:[e=>!!e||"Key is required"],value_rules:[e=>!!e||"Value is required"]}},methods:{add_field(){this.fields.push({name:"",value:""})},delete_field(e){this.fields.splice(e,1)}},computed:{fields:{get(){return this.value},set(e){console.log(e),this.$emit("input",e)}}}},_e=fe,he=(s("d827"),Object($["a"])(_e,ce,pe,!1,null,"56063d5c",null)),ve=he.exports;const{VUE_APP_TARGET_URL:be="",VUE_APP_FILES:me="",VUE_APP_FIELDS:ye="",VUE_APP_HEADERS:ge=""}=Object({NODE_ENV:"production",BASE_URL:"/"}),qe=[{file:null,field_name:"image"}];var ke={name:"App",components:{About:T,Response:I,RequestHistoryDialog:X,RequestFiles:re,RequestHeaders:de,RequestFields:ve},data(){return{valid:!1,request:{url:"http://localhost:8080/test",files:qe,fields:[],headers:[]},posting:!1,uploadProgress:0,abortController:null,url_rules:[e=>!!e||"URL is required",e=>{try{return new URL(e),!0}catch{return"URL is invalid"}}],snackbar:{open:!1,text:null,color:"green"},request_history:[],response:null,tab:null}},mounted(){be?(this.request.url=be,this.request.files=me?me.split(",").map(e=>({file:null,field_name:e})):[],this.request.fields=ye?ye.split(",").map(e=>{const[t,s=""]=e.split("=",2);return{name:t,value:s,readOnly:!!s}}):[],this.request.headers=ge?ge.split(",").map(e=>{const[t,s=""]=e.split("=",2);return{key:t,value:s,readOnly:!!s}}):[]):this.load_history(),0===this.request.files.length&&console.warn("misconfigured environment")},methods:{validate(){setTimeout(()=>{this.$refs.form.validate()},100)},post_file(){if(!this.valid)return;this.posting=!0,this.uploadProgress=0,this.error=null,this.abortController=new AbortController,be||this.add_request_to_history();const e=new FormData;this.request.files.forEach(t=>{e.append(t.field_name,t.file)}),this.request.fields.forEach(t=>{e.append(t.name,t.value)});const t=this.request.headers.reduce((e,t)=>({...e,[t.name]:t.value}),{"Content-Type":"multipart/form-data"}),s={headers:t,signal:this.abortController.signal,onUploadProgress:e=>{this.uploadProgress=Math.round(100*e.loaded/e.total)}};this.axios.post(this.request.url,e,s).then(e=>{this.snackbar.open=!0,this.snackbar.color="green",this.snackbar.text="POST successful",this.response=e}).catch(e=>{e.response?this.response=e.response:console.error(e),this.snackbar.open=!0,this.snackbar.color="red",this.snackbar.text="POST failed, see console for details"}).finally(()=>{this.posting=!1})},add_request_to_history(){const e=this.request_history[this.request_history.length-1];JSON.stringify(this.request)!==JSON.stringify(e)&&(this.request_history.push({...this.request,files:this.request.files.map(e=>({file:null,field_name:e.field_name}))}),this.request_history.length>10&&this.request_history.shift(),this.save_history())},save_history(){const e=JSON.stringify(this.request_history);localStorage.file_poster_history=e},load_history(){const e=localStorage.file_poster_history;if(e)try{this.request_history=JSON.parse(e);const t=this.request_history.at(-1);t&&(this.request={files:qe,fields:[],headers:[],...t})}catch(t){console.warn(t)}},cancel_upload(){this.abortController.abort()}},computed:{tabs(){if(be){const e=["FILES"];return ye&&e.push("FIELDS"),ge&&e.push("HEADERS"),e}return["FILES","FIELDS","HEADERS"]},url_editable(){return!be},files_editable(){return!(be&&me)},fields_editable(){return!(be&&ye)},headers_editable(){return!(be&&ge)},response_pretty(){let e;try{e=JSON.stringify(JSON.parse(this.response.body),null,2)}catch(t){e=this.response.body}return e}},watch:{request:{handler(){this.validate()},deep:!0}}},xe=ke,Oe=(s("8f88"),Object($["a"])(xe,P,E,!1,null,null,null)),Se=Oe.exports,Re=s("bc3a"),Pe=s.n(Re),Ee=s("130e"),Ae=s("f309");a["a"].use(Ae["a"]);var we=new Ae["a"]({theme:{themes:{light:{primary:"#c00000"}}}});a["a"].use(Ee["a"],Pe.a),a["a"].config.productionTip=!1,new a["a"]({vuetify:we,render:e=>e(Se)}).$mount("#app")},7065:function(e,t,s){"use strict";s("14ee")},"8f88":function(e,t,s){"use strict";s("d0b4")},9224:function(e){e.exports=JSON.parse('{"a":"1.2.2"}')},"98ff":function(e,t,s){},"9ce8":function(e,t,s){},c912:function(e,t,s){"use strict";s("1006")},d0b4:function(e,t,s){},d827:function(e,t,s){"use strict";s("98ff")},e5ef:function(e,t,s){"use strict";s("9ce8")}});
//# sourceMappingURL=app.6da94997.js.map